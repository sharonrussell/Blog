@using Web.Models
@model EntryViewModels

@{
	Layout = "/Views/_Layout.cshtml";
	string title = @String.Format("{0}'s Blog", Model.Author);
	ViewBag.Title = title;
}
<section>
	<h2>@title</h2>
	<a href='@Url.Action("AddEntry", "Entry", new {id = Model.BlogId})'>Add new blog entry</a>

	@foreach (EntryViewModel entry in Model.Entries)
	{
		<section>
			<section>
				<h3>@Html.DisplayFor(m => entry.Title)</h3>
			</section>
			<section>
				<p>@Html.Raw(Html.Encode(entry.Body).Replace("\n", "<br />"))</p>
			</section>
			<a href='@Url.Action("RemoveEntry", "Entry", new {blogId = Model.BlogId, entryId = entry.EntryId})'>Remove entry</a>
		</section>
	}
	<section>
		<a href='@Url.Action("RemoveBlog", "Blog", new {id = Model.BlogId})'>Remove blog</a>
	</section>
</section>